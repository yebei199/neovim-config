# queries - TreeSitter查询定义

本目录存放TreeSitter查询文件（以`.scm`后缀表示），用于定义语法高亮、代码导航和结构化代码分析的规则。

## 什么是TreeSitter查询

TreeSitter是一个增量解析库，能够为代码生成精确的语法树。查询文件采用S表达式语法，通过模式匹配的方式在语法树中定位特定的代码片段，然后应用高亮、折叠、文本对象等操作。

查询提供了一种声明式的方式来定义代码分析规则，相比传统的正则表达式更加精确和强大。

## 目录结构

- **lua/highlights.scm** - Lua语言的高亮定义

## 当前配置

### lua/highlights.scm

该文件定义了Lua代码的语法高亮规则，包括：
- 关键字的高亮（function、local、if等）
- 内置函数和库的着色（print、table等）
- 字符串、注释、数字等字面量的高亮
- 特殊标识符和符号的样式

这些定义与Neovim的配色方案(colorscheme)结合使用，最终呈现出美观的代码显示效果。

## TreeSitter查询的应用场景

TreeSitter查询可用于：
- **语法高亮** - 为代码元素应用适当的颜色和样式
- **结构折叠** - 定义可折叠的代码块（函数、类等）
- **文本对象** - 创建自定义的文本对象供motions和operators使用
- **导航** - 支持在代码结构中快速导航
- **重构** - 支持结构化的代码转换和重构

## 扩展指南

如需为其他语言添加自定义的高亮或功能定义，只需在相应的语言子目录下创建`.scm`文件，Neovim的TreeSitter集成会自动加载和使用。S表达式的语法相对简洁，可以通过参考现有的Lua定义快速学习。
