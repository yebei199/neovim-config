# utils - 工具库与辅助模块

本目录包含为整个配置系统提供支持的工具函数库和辅助模块。这些模块被config和plugins目录中的配置使用，提供了常见操作的封装和代码复用。

## 设计原则

工具库的设计遵循以下原则：
- **高内聚低耦合** - 每个模块聚焦于单一职责，减少模块间的依赖
- **代码复用** - 避免配置中的代码重复，统一实现提高维护效率
- **清晰接口** - 提供清晰易用的API，降低使用难度
- **性能优化** - 工具函数考虑性能，避免不必要的计算和加载

## 工具库结构

### 顶级工具模块

- **fn.lua** - 通用函数库（列表处理、函数式编程工具等）
- **edit.lua** - 编辑相关的工具函数
- **format.lua** - 代码格式化辅助函数
- **fs.lua** - 文件系统操作工具
- **list.lua** - 列表和集合操作工具
- **plugin.lua** - 插件开发相关工具
- **profiler.lua** - 性能分析工具
- **root.lua** - 项目根目录识别工具

### 子目录

#### highlight/ - 高亮管理
处理代码高亮相关的工具：
- **fn.lua** - 高亮定义和应用的函数
- **type.lua** - 高亮类型定义
- **init.lua** - 高亮系统的初始化

#### language/ - 语言支持工具
为语言配置系统提供支持：
- **fn.lua** - 语言相关的工具函数
- **type.lua** - 语言配置的类型定义
- **lang.lua** - 单个语言的配置处理
- **langs.lua** - 多语言的统一管理
- **init.lua** - 语言系统初始化

#### plugin/ - 插件工具库
为插件配置提供支持：
- **mason.lua** - Mason包管理工具的辅助函数
- **snacks.lua** - Snacks.nvim集成的工具
- **zk.lua** - Zk（知识库）工具集成
- **heirline/** - Heirline状态栏组件库

## Heirline 状态栏组件

heirline/目录包含状态栏的详细组件定义：
- **statusline/** - 状态栏各个部分的组件（模式、光标位置、诊断信息等）
- 提供可复用的高度自定义的状态栏显示

## 使用示例

工具库的典型使用场景：
- 配置中调用 `utils.fs` 进行文件操作
- 插件配置中使用 `utils.language` 获取语言信息
- UI配置中引用 `utils.plugin.heirline` 构建状态栏
- 自动命令中使用 `utils.edit` 进行文本编辑

这种分离设计使得配置代码更加清晰和易于维护。
